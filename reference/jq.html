<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="jq is meant to work with the high level interface in this package.
jq also provides access to the low level interface in which you can
use jq query strings just as you would on the command line. Output gets
class of json, and pretty prints to the console for easier viewing.
jqr doesn't do pretty printing."><title>Execute a query with jq — jq • jqr</title><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Execute a query with jq — jq"><meta property="og:description" content="jq is meant to work with the high level interface in this package.
jq also provides access to the low level interface in which you can
use jq query strings just as you would on the command line. Output gets
class of json, and pretty prints to the console for easier viewing.
jqr doesn't do pretty printing."><meta property="og:image" content="https://docs.ropensci.org/jqr/logo.png"><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript><!-- End Matomo Code --></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">jqr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.3.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../articles/jqr.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/jqr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Execute a query with jq</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/jqr/blob/HEAD/R/jq.R" class="external-link"><code>R/jq.R</code></a></small>
      <div class="d-none name"><code>jq.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>jq</code> is meant to work with the high level interface in this package.
<code>jq</code> also provides access to the low level interface in which you can
use jq query strings just as you would on the command line. Output gets
class of json, and pretty prints to the console for easier viewing.
<code>jqr</code> doesn't do pretty printing.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">jq</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for jqr</span></span>
<span><span class="fu">jq</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for character</span></span>
<span><span class="fu">jq</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>, flags <span class="op">=</span> <span class="fu"><a href="jq_flags.html">jq_flags</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for json</span></span>
<span><span class="fu">jq</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>, flags <span class="op">=</span> <span class="fu"><a href="jq_flags.html">jq_flags</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for connection</span></span>
<span><span class="fu">jq</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>, flags <span class="op">=</span> <span class="fu"><a href="jq_flags.html">jq_flags</a></span><span class="op">(</span><span class="op">)</span>, out <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p><code>json</code> object or character string with json data. this can
be one or more valid json objects</p></dd>


<dt>...</dt>
<dd><p>character specification of jq query. Each element in <code>...</code>
will be combined with " | ", which is convenient for long queries.</p></dd>


<dt>flags</dt>
<dd><p>See <code><a href="jq_flags.html">jq_flags</a></code></p></dd>


<dt>out</dt>
<dd><p>a filename, callback function, connection object to stream output.
Set to `NULL` to buffer all output and return a character vector.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="peek.html">peek</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="st">'{"a": 7}'</span> <span class="op"><a href="pipe.html">%&gt;%</a></span>  <span class="fu"><a href="maths.html">do</a></span><span class="op">(</span><span class="va">.a</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8</span>
<span class="r-in"><span><span class="st">'[8,3,null,6]'</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="va">sortj</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     null,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     3,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     6,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ]</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">'[{"message": "hello", "name": "jenn"},</span></span></span>
<span class="r-in"><span><span class="st">  {"message": "world", "name": "beth"}]'</span></span></span>
<span class="r-in"><span><span class="fu">jq</span><span class="op">(</span><span class="fu"><a href="index.html">index</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "message": "hello",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "jenn"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "message": "world",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "beth"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ]</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">jq</span><span class="op">(</span><span class="st">'{"a": 7, "b": 4}'</span>, <span class="st">'keys'</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "a",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "b"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ]</span>
<span class="r-in"><span><span class="fu">jq</span><span class="op">(</span><span class="st">'[8,3,null,6]'</span>, <span class="st">'sort'</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     null,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     3,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     6,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ]</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># many json inputs</span></span></span>
<span class="r-in"><span><span class="fu">jq</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"[123, 456]"</span>, <span class="st">"[77, 88, 99]"</span>, <span class="st">"[41]"</span><span class="op">)</span>, <span class="st">".[]"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     123,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     456,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     77,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     88,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     99,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     41</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ]</span>
<span class="r-in"><span><span class="co"># Stream from connection</span></span></span>
<span class="r-in"><span><span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/writeLines.html" class="external-link">writeLines</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"[123, 456]"</span>, <span class="st">"[77, 88, 99]"</span>, <span class="st">"[41]"</span><span class="op">)</span>, <span class="va">tmp</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">jq</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">file</a></span><span class="op">(</span><span class="va">tmp</span><span class="op">)</span>, <span class="st">".[]"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     123,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     456,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     77,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     88,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     99,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     41</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ]</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># from a url</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">'http://jeroen.github.io/data/diamonds.json'</span></span></span>
<span class="r-in"><span><span class="fu">jq</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">url</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="st">".[]"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># from a file</span></span></span>
<span class="r-in"><span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"diamonds_nd.json"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span><span class="va">x</span>, destfile <span class="op">=</span> <span class="va">file</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">jq</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">file</a></span><span class="op">(</span><span class="va">file</span><span class="op">)</span>, <span class="st">".carat"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">jq</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">file</a></span><span class="op">(</span><span class="va">file</span><span class="op">)</span>, <span class="st">"select(.carat &gt; 1.5)"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">jq</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">file</a></span><span class="op">(</span><span class="va">file</span><span class="op">)</span>, <span class="st">'select(.carat &gt; 4 and .cut == "Fair")'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>

  

  

  </body></html>

